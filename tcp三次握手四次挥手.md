

### tcp的三次握手四次挥手


#### tcp的三次握手
    1. 第一次握手：客户端向服务端发送syn包，客户端当前并进去 syn_sent 状态
    2. 第二次握手：服务端收到客户端发送的syn包，并向客户端发送一个syn+ack包 此时服务端进入到syn_recv状态
    3. 第三次握手：客户端收到服务端的syn+ack包，并把服务端发送的ack包返回给服务端 至此tcp的三次握手完成

### 注意：三次握手的过程中发送的包不包含数据，三次握手完成后，客户端和服务端才进行数据传输

#### 三次握手的作用
    1. 客户端和服务端建立起稳定可靠的通讯环境
    2. 第一次和第二次握手保证 服务端能收到客户端的请求并能做出响应
    3. 第二次和第三次握手保证 客户端能收到服务端的请求并能做出响应

#### tcp的四次挥手
    1. 客户端向服务端发送终止连接的请求，客户端进入到终止等待1状态
    2. 服务端收到客户端发送的终止连接请求，并向客户端发送确认收到请求，服务端进到等待关闭状态
    3. 客户端收到服务端的确认后 客户端进入到终止等待2状态
    4. 服务端将最后的数据发送给客户端后，向客户端发送终止连接请求
    5. 客户端收到服务端的终止连接请求，并向服务端发送确认请求，此时客户端进入到time_wait状态
    6. 服务端收到了客户端发送的确认，自身立即进入到关闭状态